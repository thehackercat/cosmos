# 04-震撼的Linux全景图：业界成熟的内核架构长什么样？

December 2, 2021 2021-12-02

Linux 高清全景图链接: [https://makelinux.github.io/kernel/map/](https://makelinux.github.io/kernel/map/)

## Linux 五大核心组件

### A. 系统System

1. 一些系统 API 接口: 用于应用程序调用系统功能
2. 设备驱动模型: 规范各种驱动程序的开发
3. 系统运行: 完成系统启动初始化，电源管理等功能
4. 总线与设备驱动: 各种驱动程序实现控制访问具体设备
5. I/O 设备: 物理硬件如 PCI、USB 总线等设备控制器

### B. 进程 Processing

1. 进程接口: 主要是创建进程、加载应用、处理信号等功能
2. 内核态线程: 实现工作队列
3. 同步机制: 实现了自旋锁、信号量、互斥锁、读写锁、RCU 锁
4. 进程调度器: 负责进程的调度，即给进程分配 CPU 使其运行
5. 中断处理: 负责处理软硬件中断和管理中断控制器
6. CPU: 即计算机最核心的部件——中央处理器，负责执行所有的代码指令

### C. 内存 Memory

1. 内存接口: 使得应用能分配、释放内存空间，映射和共享内存
2. 虚拟内存: 使得应用有统一、独立且比实际内存大得多的地址空间
3. 内存映射: 负责建立页表，完成虚拟内存地址到物理地址的转换
4. 内存对象分配: 如 slab、slub, 用内核自身数据结构对象的分配与释放
5. 物理内存管理: 用于管理、分配、释放物理内存页
6. 物理内存: 真实的机器内存条、MMU 部件, DMA 部件

### D. 存储 Storage

1. 存储接口: 主要是实现文件和目录的读写访问
2. 虚拟文件系统(VFS): 规范了真实文件系统的接口，实现了文件、目录等抽象结构
3. I/O Cache: 实现了文件数据块的缓存、同步、交换等功能
4. 文件系统: 实现具体的文件系统，如 EXT4, XFS, NTFS 等
5. 块设备层: 是文件系统的支持，其特点是按照具体大小的块进行读写
6. 储存设备: 如 IDE\SATA\SCSI\NVME 储存设备以及对应的驱动程序

### E.网络

1. 套接字接口: 实现网络连接，监听、绑定、访问等功能
2. 套接字: 实现统一的网络访问方式
3. 网络协议: 实现了 UDP, TCP, IP 等网络协议栈
4. 网络接口: 实现网络数据的接收、发送缓冲区和队列
5. 网卡驱动: 操作具体的网络设备
6. 网卡: 具体的以太网卡、无线 WIFI 等设备
